# v1.1.0 高保真设计说明 (High-Fidelity Design)

本文档基于 [v1.1.0 Wireframes](./v1.1.0-wireframes.md) 和 [Style Guide](../../design/style-guide.md) 生成，详细描述了数据驱动核心功能的界面视觉规范。

> **设计基调 (Design Philosophy)**:
> 遵循 "Admin Strict / Sharp" 风格。强调信息密度、高对比度边框、无圆角 (0px radius) 和 清晰的层级。
> 核心色调：Primary Text `#383838`, Accent `#16AA98`, Border `#E5E5E5` (Light) / `#383838` (Active/Strong).

---

## 1. 顶部导航栏 (Global Navigation)

在现有顶部 Header 中新增 "数据中心" 入口。

- **位置**: 位于 "应用设计 (App Design)" 右侧。
- **样式**:
  - **Height**: `48px` (保持现有高度)
  - **Text**: 14px Medium, `#383838` (60% Opacity for inactive).
  - **State - Active**:
    - Opacity: 100%
    - Bottom Border: `2px solid #16AA98` (Accent Color).
  - **State - Hover**:
    - Opacity: 80%
    - Background: `rgba(0,0,0,0.02)`.

---

## 2. 数据中心 (Data Center)

全屏应用，背景色 `#F9F9F9` (Canvas Global).

### 2.1 模型列表页 (Model List)

采用卡片网格布局，展示应用内的所有数据模型。

#### 2.1.1 容器与布局

- **Padding**: `32px`
- **Max Width**: `1200px` (Center aligned)
- **Grid**: `grid-cols-4`, Gap `24px`.

#### 2.1.2 顶部工具栏

- **Title**: "Data Models" (24px, Bold, `#383838`)
- **Action Button - Create**:
  - **Style**: Primary Button (Sharp).
  - **Bg**: `#383838`, **Text**: `#FFFFFF`.
  - **Icon**: `Plus` (16px).
  - **Size**: Height `36px`, Padding `0 16px`.

#### 2.1.3 模型卡片 (Model Card)

- **Size**: Height `160px`.
- **Background**: `#FFFFFF`.
- **Border**: `1px solid #E5E5E5`.
- **Radius**: `0px`.
- **Shadow**: None (Flat design).
- **Hover Interaction**:
  - Transform: `translateY(-2px)`.
  - Border: `1px solid #16AA98` (Accent).
  - Shadow: `4px 4px 0px rgba(22, 170, 152, 0.1)`.

**卡片内容布局**:

1.  **Header (Top 40px)**:
    - **Icon**: Database Icon (20px, `#16AA98`, Bg `rgba(22, 170, 152, 0.1)`, p-1).
    - **Title**: Model Name (e.g., "Customer"), 16px SemiBold, `#383838`.
    - **Menu**: "More" dots (Top-Right), Hover `bg-gray-100`.
2.  **Body**:
    - **Description**: 12px, `#666666`, line-clamp-2.
    - **Meta Tags**: Button-like tags for field count (e.g., "5 Fields").
      - Bg: `#F4F4F5`, Text: `#383838`, Text-Size: 11px, Padding: `2px 6px`.

#### 2.1.4 "新建模型" 卡片 (Empty State)

- **Border**: `1px dashed #CCCCCC`.
- **Background**: `transparent`.
- **Create Icon**: Center, 32px, `#CCCCCC`.
- **Text**: "Create New Model", 14px, `#999999`.
- **Hover**: Border Color `#16AA98`, Icon Color `#16AA98`.

---

## 3. 模型编辑详情页 (Model Editor)

双栏布局设计：左侧字段管理，右侧属性配置。

### 3.1 页面头部

- **Height**: `56px`.
- **Border Bottom**: `1px solid #E5E5E5`.
- **Background**: `#FFFFFF`.
- **Content**:
  - **Back Button**: ChevronLeft, 16px.
  - **Breadcrumb**: "Data Center / **Customer**".
  - **Actions (Right)**:
    - "Preview SQL": Ghost Button.
    - "Publish Changes": Primary Button (`#383838`).

### 3.2 字段列表栏 (Left Sidebar - Fields)

- **Width**: `320px` (Fixed).
- **Background**: `#F9F9F9`.
- **Border Right**: `1px solid #E5E5E5`.

#### 3.2.1 搜索与添加

- **Sticky Top**: Height `48px`, Flex center.
- **Add Button**: Block button, `w-full`, Height `32px`, Margin `8px`.
  - Style: Outlined (`1px solid #383838`, Text `#383838`).

#### 3.2.2 字段列表项 (List Item)

- **Height**: `40px`.
- **Padding**: `0 16px`.
- **Layout**: Flex (Icon + Name + Type + Action).
- **State - Normal**:
  - Text: `#383838`.
  - Icon: 14px, `#999999`.
- **State - Hover**:
  - Bg: `#F0F0F0`.
- **State - Active (Selected)**:
  - Bg: `#FFFFFF`.
  - Border-Left: `3px solid #16AA98`.
  - Text: `#16AA98` (SemiBold).
  - Shadow: `0 2px 8px rgba(0,0,0,0.05)`.

### 3.3 属性配置面板 (Right Main Content)

- **Padding**: `32px`.
- **Background**: `#FFFFFF`.

#### 3.3.1 分组标题 (Section Header)

- **Style**: Text 14px Bold, `#383838`.
- **Decorator**: Left border stripe `4px solid #16AA98` height `14px`.
- **Margin**: `mb-6`.

#### 3.3.2 表单组件 (Form Elements)

遵循 **Admin Style Adaptation** 规范。

- **Label**: 12px, Medium, `#666666`, `mb-2`.
- **Input / Select**:
  - Height: `36px`.
  - Border: `1.5px solid #E5E5E5`.
  - Radius: `0px`.
  - Focus: Border `1.5px solid #16AA98`.
- **Checkbox / Switch**:
  - Accent Color: `#16AA98`.
  - Size: 16px (Sharp square for checkbox).

#### 3.3.3 验证规则编辑器 (Validation Rules)

- **Card Styling**:
  - Bg: `#F9F9F9`.
  - Border: `1px solid #E5E5E5`.
  - Padding: `16px`.
- **Rule Item**:
  - Flex layout.
  - Delete button (Trash icon) visible on hover only.
  - _Note: `Regex Constraint` and `Default Value` inputs are deferred to v1.2.0._

---

---

## 4. 页面设计器集成 (Page Designer Integration)

> **[已延期]**: 全局数据源面板与变量绑定 UI 已延期至 v1.2.0 版本。

_(以下内容作为 v1.2.0 的设计参考保留，本版本不实现)_

### 4.1 数据源面板 (Data Source Panel)

位于编辑器左侧 Sidebar，新增 "Data" 图标 tab。

- **Panel Width**: `280px`.
- **Panel Header**:
  - Contextual Actions: [+ Query] (Text Button, 12px).
- **Tree View (Data Sources)**:
  - **Root Item**: "Global Data" / "Local Data".
  - **Query Item**:
    - Icon: Function/Database (14px).
    - Text: Query Name (e.g., `get_customers`).
    - Actions (Hover): `Gear` (Settings), `Refresh` (Test).
  - **State Indicator**:
    - Green Dot (Success), Red Dot (Error), Grey Spinner (Loading).

### 4.2 数据绑定选择器 (Binding Picker / Variable Select)

当用户点击属性输入框旁的 `{}` 图标时弹出。

- **Type**: Popover / Dropdown.
- **Width**: `300px`.
- **Max Height**: `400px` (Scrollable).
- **Background**: `#FFFFFF`.
- **Border**: `1px solid #383838`.
- **Shadow**: `8px 8px 0px rgba(0,0,0,0.1)`. (Strong Brutalist Shadow).

#### 4.2.1 列表项

- **Group Header**: 11px Uppercase, `#999999`, Padding `8px 12px`.
- **Variable Item**:
  - Padding: `6px 12px`.
  - Hover Bg: `rgba(22, 170, 152, 0.1)`.
  - **Content**:
    - Name: `ds_customers.data` (13px `#383838`).
    - Type Tag: `[Array]` (10px Monospace, Bg `#EEEEEE`, Text `#666666`).
  - **Preview Value**:
    - Text 11px, `#999999`, Truncated (Right aligned).

---

## 5. 颜色与排版总结 (Tokens Reference)

| Category    | Token            | Value     | Application                |
| :---------- | :--------------- | :-------- | :------------------------- |
| **Surface** | `bg-app`         | `#F9F9F9` | 全局背景, 侧边栏背景       |
|             | `bg-panel`       | `#FFFFFF` | 卡片背景, 编辑区背景       |
| **Border**  | `border-light`   | `#E5E5E5` | 分割线, 默认边框           |
|             | `border-main`    | `#383838` | 输入框, 按钮边框, 强调边框 |
|             | `border-accent`  | `#16AA98` | 选中状态, 聚焦状态         |
| **Text**    | `text-primary`   | `#383838` | 主要标题, 正文             |
|             | `text-secondary` | `#666666` | 标签, 描述                 |
|             | `text-accent`    | `#16AA98` | 链接, 激活项               |
| **Radius**  | `radius-none`    | `0px`     | **All Components**         |

所有新增页面必须严格遵守上述 Token，确保与现有系统的 "Admin Strict" 风格保持一致。
